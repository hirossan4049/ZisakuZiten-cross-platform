# FileName: main.py
#:import Toolbar kivymd.toolbar.Toolbar
#:import ThemeManager kivymd.theming.ThemeManager
#:import MDNavigationDrawer kivymd.navigationdrawer.MDNavigationDrawer
#:import NavigationLayout kivymd.navigationdrawer.NavigationLayout
#:import NavigationDrawerDivider kivymd.navigationdrawer.NavigationDrawerDivider
#:import NavigationDrawerToolbar kivymd.navigationdrawer.NavigationDrawerToolbar
#:import NavigationDrawerSubheader kivymd.navigationdrawer.NavigationDrawerSubheader
#:import MDCheckbox kivymd.selectioncontrols.MDCheckbox
#:import MDSwitch kivymd.selectioncontrols.MDSwitch
#:import MDList kivymd.list.MDList
#:import OneLineListItem kivymd.list.OneLineListItem
#:import TwoLineListItem kivymd.list.TwoLineListItem
#:import ThreeLineListItem kivymd.list.ThreeLineListItem
#:import OneLineAvatarListItem kivymd.list.OneLineAvatarListItem
#:import OneLineIconListItem kivymd.list.OneLineIconListItem
#:import OneLineAvatarIconListItem kivymd.list.OneLineAvatarIconListItem
#:import MDTextField kivymd.textfields.MDTextField
#:import MDSpinner kivymd.spinner.MDSpinner
#:import MDCard kivymd.card.MDCard
#:import MDSeparator kivymd.card.MDSeparator
#:import MDDropdownMenu kivymd.menu.MDDropdownMenu
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import colors kivymd.color_definitions.colors
#:import SmartTile kivymd.grid.SmartTile
#:import MDSlider kivymd.slider.MDSlider
#:import MDTabbedPanel kivymd.tabs.MDTabbedPanel
#:import MDTab kivymd.tabs.MDTab
#:import MDProgressBar kivymd.progressbar.MDProgressBar
#:import MDAccordion kivymd.accordion.MDAccordion
#:import MDAccordionItem kivymd.accordion.MDAccordionItem
#:import MDAccordionSubItem kivymd.accordion.MDAccordionSubItem
#:import MDThemePicker kivymd.theme_picker.MDThemePicker
#:import MDBottomNavigation kivymd.tabs.MDBottomNavigation
#:import MDBottomNavigationItem kivymd.tabs.MDBottomNavigationItem
#:import MDScrollViewRefreshLayout kivymd.uix.refreshlayout.MDScrollViewRefreshLayout
<MainWindow@FloatLayout>
	BoxLayout:
	    orientation: "vertical"

	    Toolbar:
	        id: uptoolbar
	        title: "Home"
	        md_bg_color: app.theme_cls.primary_color
	        left_action_items: [["menu", lambda x: None]]
	        # left_action_items: [["menu", lambda x: x,["a","b","c"]]]


	    MDBottomNavigation:
	        id: panel

	        MDBottomNavigationItem:
	            name: "files1"
	            text: "Python"
	            icon: "language-python"
				#on_press
	            BoxLayout:
	                orientation: "vertical"
	                size_hint_y: None
	                height: self.minimum_height
	                spacing: dp(10)
	                pos_hint: {"center_x": .5, "center_y": .5}

	                MDLabel:
	                    font_style: "Body1"
	                    theme_text_color: "Primary"
	                    text: "Toggle to set custom panel color"
	                    halign: "center"

	                MDSwitch:
	                    size_hint: None, None
	                    size: dp(36), dp(48)
	                    pos_hint: {"center_x": .5}
	                    on_active:
	                        panel.panel_color = \
	                        [0.2980392156862745, 0.2823529411764706, 0.32941176470588235, 1] \
	                        if self.active else app.theme_cls.bg_dark

	        MDBottomNavigationItem:
	            name: "files2"
	            text: "API"
	            icon: "language-cpp"

				BoxLayout:
					orientation:"vertical"
					MDScrollViewRefreshLayout:
			            id: refresh_layout
			            refresh_callback: app.refresh_callback
			            root_layout: root
					# MDCustomListItem
						ScrollView:
		                    do_scroll_x: False
		                    MDList:
								id: zlist




	        MDBottomNavigationItem:
	            name: "files3"
	            text: "POST"
	            icon: "language-javascript"

				ScreenManager:
					id:scr_mngr
					Screen:
						name:"fields"
						BoxLayout:
							orientation:"vertical"
							size_hint_y: None
				            height: self.minimum_height
				            padding: dp(48)
				            spacing: 10
							MDTextField:
				                hint_text: "GroupTitle"
				                max_text_length: 20
								id:pgtitle

							MDTextField:
								hint_text:"Ztitle1"
								max_text_length:20
								id:pztitle1
							MDTextField:
								hint_text:"Zcontent1"
								max_text_length:64
								id:pzcontent1

							MDTextField:
								hint_text:"Ztitle2"
								max_text_length:20
								id:pztitle2
							MDTextField:
								hint_text:"Zcontent2"
								max_text_length:64
								id:pzcontent2

							MDFloatingActionButton:
			                    icon: "plus"
			                    opposite_colors: True
			                    elevation_normal: 8
								on_press:root.ids.scr_mngr.current='fields'
								on_release:app.gz_post()

					Screen:
						name:"load"
						MDLabel:
							text:'POST now ...\n Please wait...'


			# ScreenManager:
			# 	id:scr_mngr
			# 	Screen:
			# 		name:"list"
			# 		MDLabel:
			# 			text:"aaa"
			# 		MDFlatButton:
			# 			text: "list2"
			# 			on_release:root.ids.scr_mngr.current = 'list2'
			#
			#
			# 	Screen:
			# 		name:"list2"
			# 		MDLabel:
			# 			text:"ccc"
			# 		MDFlatButton:
			# 			text: "back"
						# on_release:root.ids.scr_mngr.current = 'list'





<MDCustomListItem>:
	# on_press:root.ids.uptoolbar.text="a"
	TwoLineListItem:
		text: root.text
		secondary_text: root.secondary_text



#memo
# on_press:root.ids.scr_mngr.current = 'list'

# MDLabel:
#     font_style: "Body1"
#     theme_text_color: "Primary"
#     text: "I programming of C++"
#     halign: "center"
